#summary MBDB/MBDX file format.

= Introduction =

iTunes 9.2 has changed Manifest.plist content and removed the .mdinfo files.

The files database is now stored in a couple of file: Manifest.mbdb and Manifest.mbdx. The applications list remains in Manifest.plist, but the format has (a little) changed.


= Details =

Important : all numbers are [http://en.wikipedia.org/wiki/Endianness big endian].

*MBDX*

This is the index file.

byte 1 -  6    'mbdx\2\0'
byte 7 - 10    number of records

record (fixed size of 26 bytes)

byte  1 - 20   the Key of the file, it's also the filename in the backup directory
               It's the same key as 9.1 backups.

byte 21 - 24   offset of file record in .mbdb file
               Offsets are counted from the 7th byte. So you have to add 6 to this number to get the absolute position in the file.

byte 25 - 26   file mode
                 Axxx  symbolic link
                 4xxx  directory
                 8xxx  regular file
               The meaning of xxx is unknown to me, it corresponds to the <Mode> field in the old backup data.